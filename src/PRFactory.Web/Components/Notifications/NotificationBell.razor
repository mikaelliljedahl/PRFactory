@namespace PRFactory.Web.Components.Notifications
@using PRFactory.Core.Application.DTOs
@using PRFactory.Web.UI.Notifications
@implements IDisposable

<div class="dropdown">
    <button class="btn btn-link position-relative" type="button" id="notificationDropdown"
            data-bs-toggle="dropdown" aria-expanded="false" title="Notifications">
        <i class="bi bi-bell fs-5"></i>
        @if (unreadCount > 0)
        {
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                @unreadCount
                <span class="visually-hidden">unread notifications</span>
            </span>
        }
    </button>

    <NotificationDropdown Notifications="@notifications"
                          UnreadCount="@unreadCount"
                          OnMarkAsRead="@MarkAsRead"
                          OnMarkAllAsRead="@MarkAllAsRead"
                          ErrorMessage="@errorMessage" />
</div>
