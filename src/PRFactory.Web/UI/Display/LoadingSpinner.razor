@using PRFactory.Web.UI.Display

@if (IsLoading)
{
    <div class="@ContainerClass">
        <div class="spinner-border text-@SpinnerColorClass" role="status" style="@SpinnerStyle">
            <span class="visually-hidden">@LoadingText</span>
        </div>
        @if (!string.IsNullOrEmpty(Message))
        {
            <p class="@MessageClass">@Message</p>
        }
    </div>
}

@code {
    [Parameter] public bool IsLoading { get; set; } = true;
    [Parameter] public string? Message { get; set; }
    [Parameter] public SpinnerSize Size { get; set; } = SpinnerSize.Normal;
    [Parameter] public SpinnerColor Color { get; set; } = SpinnerColor.Primary;
    [Parameter] public bool Centered { get; set; } = true;
    [Parameter] public string LoadingText { get; set; } = "Loading...";

    private string ContainerClass => Centered ? "text-center py-5" : "d-inline-block";
    private string MessageClass => Centered ? "mt-3 text-muted" : "ms-2 text-muted";

    private string SpinnerColorClass => Color switch
    {
        SpinnerColor.Primary => "primary",
        SpinnerColor.Secondary => "secondary",
        SpinnerColor.Success => "success",
        SpinnerColor.Danger => "danger",
        SpinnerColor.Warning => "warning",
        SpinnerColor.Info => "info",
        _ => "primary"
    };

    private string SpinnerStyle => Size switch
    {
        SpinnerSize.Small => "width: 1rem; height: 1rem;",
        SpinnerSize.Normal => "",
        SpinnerSize.Large => "width: 3rem; height: 3rem;",
        _ => ""
    };
}
